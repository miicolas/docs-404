---
title: Les Hooks Essentiels en React
description: D√©couvrez les hooks fondamentaux de React comme useEffect, useRef, et useMemo pour cr√©er des composants plus puissants.
---

import { File, Folder, Files } from 'fumadocs-ui/components/files';
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';


## Introduction aux Hooks

<Callout type="info">
  Les hooks sont des fonctions sp√©ciales qui permettent d'utiliser l'√©tat et d'autres fonctionnalit√©s de React dans les composants fonctionnels.
</Callout>

## useEffect

<Steps>
### Cas d'Utilisation
1. **Ex√©cution √† Chaque Rendu**
```jsx showLineNumbers
useEffect(() => {
  console.log('Composant rendu');
}); // Sans tableau de d√©pendances
```

2. **Ex√©cution Une Seule Fois (Montage)**
```jsx showLineNumbers
useEffect(() => {
  console.log('Composant mont√©');
}, []); // Tableau de d√©pendances vide
```

3. **Ex√©cution sur Changement**
```jsx showLineNumbers
useEffect(() => {
  console.log('Donn√©e mise √† jour:', data);
}, [data]); // S'ex√©cute quand data change
```

4. **Nettoyage (Cleanup)**
```jsx showLineNumbers
useEffect(() => {
  const timer = setInterval(() => {
    console.log('Tick');
  }, 1000);
  
  return () => clearInterval(timer);
}, []);
```
</Steps>

## useRef

<Tabs>
  <Tab label="Acc√®s DOM" value="dom">
    ```jsx showLineNumbers
    function InputFocus() {
      const inputRef = useRef(null);
      
      const focusInput = () => {
        inputRef.current.focus();
      };
      
      return (
        <div>
          <input ref={inputRef} type="text" />
          <button onClick={focusInput}>Focus</button>
        </div>
      );
    }
    ```
  </Tab>
  <Tab label="Valeurs Persistantes" value="persistantes">
    ```jsx showLineNumbers
    function Compteur() {
      const [count, setCount] = useState(0);
      const rendersRef = useRef(0);
      
      useEffect(() => {
        rendersRef.current += 1;
      });
      
      return (
        <div>
          <p>Compteur : {count}</p>
          <p>Rendus : {rendersRef.current}</p>
          <button onClick={() => setCount(c => c + 1)}>
            Incr√©menter
          </button>
        </div>
      );
    }
    ```
  </Tab>
</Tabs>

## useMemo et useCallback

<Cards>
  <Card title="useMemo" icon="üßÆ">
    ```jsx showLineNumbers
    const valeurCalculee = useMemo(() => {
      return expensiveOperation(prop1, prop2);
    }, [prop1, prop2]);
    ```
  </Card>
  <Card title="useCallback" icon="üéØ">
    ```jsx showLineNumbers
    const handleClick = useCallback(() => {
      console.log(count);
    }, [count]);
    ```
  </Card>
</Cards>

## Exemple Pratique : Application de Notes

<Tabs items={['structure', 'code']}>
  <Tab label="Structure" value="structure">
    <Files>
      <Folder name="components" defaultOpen>
        <File name="NoteApp.jsx" />
        <File name="NoteList.jsx" />
        <File name="NoteEditor.jsx" />
        <File name="NoteSearch.jsx" />
      </Folder>
    </Files>
  </Tab>
  <Tab label="Code" value="code">
    ```jsx showLineNumbers
    function NoteApp() {
      const [notes, setNotes] = useState([]);
      const [search, setSearch] = useState('');
      
      // Persistance des notes
      useEffect(() => {
        const savedNotes = localStorage.getItem('notes');
        if (savedNotes) {
          setNotes(JSON.parse(savedNotes));
        }
      }, []);
      
      // Sauvegarde automatique
      useEffect(() => {
        localStorage.setItem('notes', JSON.stringify(notes));
      }, [notes]);
      
      // Recherche optimis√©e
      const filteredNotes = useMemo(() => {
        return notes.filter(note =>
          note.text.toLowerCase().includes(search.toLowerCase())
        );
      }, [notes, search]);
      
      // Gestionnaire optimis√©
      const addNote = useCallback((text) => {
        setNotes(prev => [...prev, {
          id: Date.now(),
          text,
          createdAt: new Date()
        }]);
      }, []);
      
      return (
        <div>
          <NoteSearch value={search} onChange={setSearch} />
          <NoteEditor onAdd={addNote} />
          <NoteList notes={filteredNotes} />
        </div>
      );
    }
    ```
  </Tab>
</Tabs>

## Hooks Personnalis√©s

<Steps>
### Cr√©ation d'un Hook
1. **D√©finition du Hook**
```jsx showLineNumbers
function useFormField(initialValue = '') {
  const [value, setValue] = useState(initialValue);
  const [error, setError] = useState('');
  
  const handleChange = (e) => {
    setValue(e.target.value);
    setError('');
  };
  
  const validate = (rules) => {
    if (rules.required && !value) {
      setError('Ce champ est requis');
      return false;
    }
    return true;
  };
  
  return {
    value,
    error,
    onChange: handleChange,
    validate
  };
}
```

2. **Utilisation du Hook**
```jsx showLineNumbers
function LoginForm() {
  const email = useFormField('');
  const password = useFormField('');
  
  const handleSubmit = (e) => {
    e.preventDefault();
    if (email.validate({ required: true }) &&
        password.validate({ required: true })) {
      // Soumission du formulaire
    }
  };
  
  return (
    <form onSubmit={handleSubmit}>
      <input
        type="email"
        {...email}
        placeholder="Email"
      />
      {email.error && <span>{email.error}</span>}
      
      <input
        type="password"
        {...password}
        placeholder="Mot de passe"
      />
      {password.error && <span>{password.error}</span>}
      
      <button type="submit">Connexion</button>
    </form>
  );
}
```
</Steps>

## R√®gles des Hooks

<Cards>
  <Card title="Niveau Racine" icon="üå≥">
    Appelez les hooks uniquement au niveau racine des composants
  </Card>
  <Card title="Composants React" icon="‚öõÔ∏è">
    Utilisez les hooks uniquement dans des composants React ou d'autres hooks
  </Card>
  <Card title="Ordre Stable" icon="üìù">
    Gardez l'ordre des appels de hooks stable entre les rendus
  </Card>
  <Card title="D√©pendances" icon="üîÑ">
    Sp√©cifiez toutes les d√©pendances n√©cessaires
  </Card>
</Cards>

## Exercices Pratiques

<Steps>
### Exercices
1. Cr√©ez un hook `useLocalStorage` :
   - Synchronisation avec localStorage
   - Gestion des erreurs
   - Support de diff√©rents types

2. Impl√©mentez un hook `useTheme` :
   - Mode clair/sombre
   - Persistance des pr√©f√©rences
   - Transitions fluides

3. D√©veloppez un hook `useFetch` :
   - Gestion du chargement
   - Gestion des erreurs
   - Cache des donn√©es
</Steps>

<Callout type="warning">
  N'oubliez pas de g√©rer les cas d'erreur et de nettoyage dans vos hooks personnalis√©s !
</Callout>

## Prochaines √âtapes

<Cards>
  <Card title="Styling en CSS" href="styling-css" icon="üé®">
    Apprenez √† styler vos composants
  </Card>
  <Card title="Formulaires" href="formulaires" icon="üìù">
    Cr√©ez des formulaires interactifs
  </Card>
</Cards> 